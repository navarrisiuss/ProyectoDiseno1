@startuml DiagramaClase
abstract RegistroReproduccion{
}

enum Lenguajes{
SPANISH
ENGLISH
}



enum Monedas{
USD
CLP
}


enum NombrePlanes{
GRATIS
STANDARD
PREMIUM
}



enum RestriccionEdad{
TODO_PUBLICO
KIDS
ADOLECENTES
ADULTOS
}


interface EncriptadorPassword{
+encriptarPassword(): string
}


interface ActualizadorMembresias{
+actualizarAGratis(): Membresia
+actualizarAStardard(): Membresia
+actualizarAPremium(): Membresia
}


interface EncriptadorHash{
+encriptarNumTarjeta(): String
+encriptarCodigo(): String
}


interface Busqueda{
+buscarContenido(Catalogo catalogo,String nombre):void
}

interface Cobrar{
+cobrar():void
}

interface InicioSesion{
+inicioSesionValido(String email, String password):void
}

interface GenerarEnlacePublico{
+generarEnlacePublico():void
}

interface Visualizacion{
+ver(Cuenta cuenta):void    
}


class Pago{
-fecha: Date
-monto:double
-moneda: String
-membresia: Membresia
}

class Catalogo extends ContenidoMultimedia{
-contenidoMultimedia:List<ContenidoMultimedia>
+addContenidoMultimedia(ContenidoMultimedia contenidoMultimedia):void
+deleteContenidoMultimedia(ContenidoMultimedia contenidoMultimedia):void
}

class Cuenta implements InicioSesion, EncriptadorPassword, ActualizadorMembresias{
-nombreUsuario: String
-correo: String
-password: String
+iniciarSecion(): void
}



class Membresia {
-fechaInicio: Date
-FechaSuiguimientoCobros: Date
-FechaTermino: Date
}


class CompraPelicula{
-fechaCompra: Date
-precio: Double
-moneda: String
}

class Perfil implements Busqueda, Visualizacion{
-nombre: String
-icono: String
-lenguaje: String
-esPerfilDeNinos: Boolean
-listaFavoritos:List<ContenidoMultimedia>
-listaPersonalizada: List<ListaPersonalizada>
-registroContenidoVisto: List<RegistroReproduccion>
-isContenidoInfantil(ContenidoMultimedia contenidoMultimedia): boolean
+buscarContenido(Catalogo catalogo,String nombre):void
+addListaFavoritos(ContenidoMultimedia contenidoMultimedia):void
+crearListaPersonalizada(String nombre):void
+agregarAListaPersonalizada(String nombre, ContenidoMultimedia contenidoMultimedia):void
+eliminar():void
}

class Plan{
-nombre: String
-descripcion: String
-costo: Double
-pantallasActivas: int
-rellenarInfoPlan():void
}

abstract MedioPago implements Cobrar{
}

class CodigoRegalo extends MedioPago{
-codigo: String
-descripcion: String
-fechaExpiracion: Date
}

class PagoTerceros extends MedioPago{
refCliente: String
refProveedor: String
}

Class TarjetaCredito extends MedioPago implements EncriptadorHash{
nombreTitular: String
numeroTarjeta: String
fechaExpiracion: Date
codigoVerificador: String
}

Class TarjetaDebito extends MedioPago implements EncriptadorHash{
-numeroTarjeta: String
-rutTitular: String
-rutBanco: String
}

class Paypal extends MedioPago{
-correo: String
-tokenVeridficacion: String
}

class ListaPersonalizada implements GenerarEnlacePublico{
-nombre: String
-enlacePublico: String
}

class RegistroReproduccionPelicula extends RegistroReproduccion{
-peliculaVista: Pelicula 
-feachaUltimaVista: LocalDate
-horaUltimaVista: Localtime
}

class RegistroReproduccionSerie extends RegistroReproduccion{
-serieVista: Serie
-episodiosVistos: List<Episodio>
-fechasUltimaVista: List<LocalDate>
-horasUltimaVista: List<LocalTime>
-ultimoEpisodioVisto: Episodio 
}

abstract ContenidoMultimedia{
-titulo: String
-descripcion: String
-categorias: String
-fechaLanzamientio: Date
-restriccionEda: String
+elimiar():void
}

class Pelicula extends ContenidoMultimedia{
-director: String
-elenco: String
-isPago:boolean
}

class Temporada{
-numeroTemporada: int
-fechaLanzamiento: Date
-episodios: List<Episodio>
}

class Serie extends ContenidoMultimedia{
-temporadas: List<Temporada>
}

class Episodio{
-numeroEpisodio: int
-nombre: String
-director: String
-elenco: String
-duracion: int
-fechaLanzamiento:Date
}
Cuenta -- NombrePlanes
Lenguajes <--- Perfil
Monedas <--- MedioPago
NombrePlanes <--- Plan
RestriccionEdad <--- ContenidoMultimedia
Visualizacion -- Cuenta
Cuenta "1"---"0..*" CompraPelicula
Pago -- Membresia
Cuenta "1"---"o..5" Perfil
Membresia "1"---"1" Plan
Membresia "1"---"1" MedioPago
Perfil "1"---"o..*" RegistroReproduccion
Perfil "1"---"o..*" ListaPersonalizada
Temporada "1"---"1..*" Episodio
RegistroReproduccionPelicula "1"---"1" Pelicula
RegistroReproduccionSerie "1"---"0..*" Episodio
ListaPersonalizada "1"---"0..*" ContenidoMultimedia
Serie "1"---"1..*" Temporada
Cuenta "1"---"1" Membresia 
@enduml